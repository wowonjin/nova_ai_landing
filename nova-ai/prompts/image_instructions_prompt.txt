# LitePro - Image Instructions Prompt
# Image-specific guidance to improve accuracy.

[PROMPT]
üî¥ OCR RULES (LitePro)

1) TEXT FIRST, FORMULAS SECOND
2) DO NOT SKIP KOREAN TEXT OR QUESTION NUMBERS
3) READ TOP TO BOTTOM, LINE BY LINE
4) KEEP ORIGINAL LINE BREAKS (use insert_enter)
5) INLINE MATH: split text and formulas
6) KEEP INDENTATION AND SPACES

If it is a math problem, add this line at the very top of the code (do not output [CODE]):
MATH_CHOICES_EQUATION = True

‚úÖ Indentation/spacing rule:
- If a line is indented, insert the same leading spaces using insert_text('    ') before the text.
- Do not collapse multiple spaces that are visible in the image.
- For a single space, use insert_space(); for multiple spaces, use insert_text('  ') etc.
- For math subjects ONLY, if the image shows a tab/indent before a formula line, use one tab:
  insert_text('\t') then insert_equation(...)
- After a tabbed formula line, ALWAYS add exactly ONE blank line before the next line:
  insert_enter() to move to the next line, then insert_enter() again to leave one empty line.
  (Do this even if the next line is text; do not Î∂ôÏó¨Ïì∞Í∏∞.)
- For the first line AFTER a tabbed formula line (after the blank line),
  ALWAYS insert two leading spaces TWICE from the left margin:
  insert_text('  ') then insert_text('  ') before the text.
- Do NOT use tab for normal text. Tab is ONLY for indented formula lines.
- If you use a tab for an indented formula line, DO NOT also add leading spaces.

üî¢ PROBLEM NUMBER BOLD:
- If a problem number like "30." appears, make only that part bold:
  set_bold(True)
  insert_text('30.')
  set_bold(False)
- Do NOT use insert_equation for problem numbers.
- For text immediately below a problem number line, ALWAYS start the line with two spaces:
  insert_text('  ') before the text.
- Do NOT guess 1 space; it must be exactly 2 spaces from the left margin.
- This rule does NOT apply inside boxes (box/header/box_white content).
- If you use a tab for that line, do NOT add any leading spaces.

üìå SCORE RIGHT-ALIGN:
- If the score (e.g. [4Ï†ê]) appears at the bottom right in math problems:
  set_align_right_next_line()
  insert_text('[4Ï†ê]')
 - If OCR shows the score alone on its line, right-align only that line.

üìå SCORE SPACING:
- If a score like [2Ï†ê]/[3Ï†ê]/[4Ï†ê] appears at the end of a line,
  insert exactly ONE space before the score.

üìù CHOICES LINE (MULTIPLE CHOICE):
- When entering choices, type ‚ë†‚ë°‚ë¢‚ë£‚ë§ as plain text (insert_text), not equations.
- If all 5 choices are on ONE line, use justify alignment:
  set_align_justify_next_line()
  insert_text('‚ë†') + insert_space() + insert_equation('„Ñ±,') + insert_space() + insert_equation('„Ñ¥')
- If the problem is English and choices are vertically listed, put each choice on its own line:
  insert_enter() between each choice line for clean vertical layout.
- Always insert ONE space after ‚ë†/‚ë°/‚ë¢/‚ë£/‚ë§ before the value or text (never Î∂ôÏó¨Ïì∞Í∏∞).
- If choices are split across multiple lines, do NOT use justify alignment.
- If you see "‚ë° „Ñ±, „Ñ¥", ensure a space between „Ñ±, and „Ñ¥.
- Insert one empty line before the choices line (leave a blank line):
  insert_enter() to move to the next line, then insert_enter() again to leave one empty line.
- For the choices line, do NOT add leading spaces before ‚ë†.
- Always start with insert_text('‚ë†'), not insert_text('  ‚ë†').
- CRITICAL: Choices must be HORIZONTAL, not vertical.
- DO NOT insert insert_enter() between choices.
- Output all 5 choices on ONE line with spacing between each choice.
- Example (single line):
  set_align_justify_next_line()
  insert_text('‚ë†') + insert_space() + insert_equation('{1 over 25}') + insert_text('    ') + insert_text('‚ë°') + insert_space() + insert_equation('{1 over 5}') + insert_text('    ') + insert_text('‚ë¢') + insert_space() + insert_equation('1') + insert_text('    ') + insert_text('‚ë£') + insert_space() + insert_equation('5') + insert_text('    ') + insert_text('‚ë§') + insert_space() + insert_equation('25')

üì¶ TEMPLATE + PLACEHOLDER RULE (@@@ / ###):
- If you detect a container, DO NOT draw it manually. Insert the matching HWP template first:
  - If the container header has "<Î≥¥Í∏∞>" text: insert_template('header.hwp')
  - If there is a bordered container WITHOUT "<Î≥¥Í∏∞>" text: insert_template('box.hwp')
  - If there is a container area but NO visible border line: insert_template('box_white.hwp')
  - For English reading passages with no visible border around the passage, use box_white.hwp.
- IMPORTANT: insert_template(...) exactly where the box appears in reading order.
- After inserting any template box, set the text inside the box to justify alignment:
  - set_align_justify_next_line() before typing content in the box (Ctrl+Shift+M).
- Inside the box content, use single spaces only; do NOT add double spaces unless they are explicitly visible in the image.
- After inserting the template, you MUST type by replacing placeholders:
  - focus_placeholder('@@@')  -> type ALL non-box content (problem statement, etc.)
  - focus_placeholder('###')  -> type ONLY the content inside the container
  - focus_placeholder('&&&')  -> type choices AFTER the container (header.hwp, box.hwp, box_white.hwp)
- IMPORTANT: call focus_placeholder('###') immediately BEFORE typing box content.
  Do NOT place focus_placeholder('###') at the end.
- focus_placeholder(...) deletes the marker text and leaves the cursor there. Then type normally.
- When entering multiple problems in sequence, NEVER call focus_placeholder(...) unless you just inserted a new template.
  If you are already typing below, just continue with insert_enter() and text.

üìå SAMPLE (Single container ‚Äî correct box flow):
insert_template('header.hwp')
focus_placeholder('@@@')
... non-box content ...
focus_placeholder('###')
set_align_justify_next_line()
... box content ...
exit_box()
insert_enter()
focus_placeholder('&&&')
... choices ...

üìå ORDERING RULE (common science layout):
- If the layout is: problem statement -> box -> question line -> <Î≥¥Í∏∞> box -> choices,
  you MUST output in that exact order.
- Example order:
  1) focus_placeholder('@@@') -> problem statement text
  2) focus_placeholder('###') -> first box content (e.g., ‚ìê ‚ìë ‚ìí block)
  3) exit_box() + insert_enter()
  4) question line text (outside any box)
  5) focus_placeholder('###') -> <Î≥¥Í∏∞> box content
  6) exit_box() + insert_enter()
  7) focus_placeholder('&&&') -> choices
- FORBIDDEN: placing the question line BEFORE the first box.
- FORBIDDEN: leaving focus_placeholder('###') at the very end.

üìå TWO BOXES (plain box + <Î≥¥Í∏∞> box):
- If you see a plain rectangular box (no "<Î≥¥Í∏∞>") that contains ‚ìê/‚ìë/‚ìí ÏÑ§Î™Ö,
  AND a separate "<Î≥¥Í∏∞>" box with „Ñ±/„Ñ¥/„Ñ∑, you MUST use TWO templates:
  - insert_template('box.hwp') for the plain box
  - insert_template('header.hwp') for the <Î≥¥Í∏∞> box
- Use focus_placeholder('###') immediately BEFORE typing each box's content.
- Do NOT put both boxes' content into a single header.hwp.
- If you used insert_template('header.hwp') for <Î≥¥Í∏∞>, then the <Î≥¥Í∏∞> content MUST be typed
  immediately after its focus_placeholder('###'), and choices MUST follow focus_placeholder('&&&').
- If you already typed inside the box (after focus_placeholder('###')) and need to type
  choices outside the box, DO NOT call focus_placeholder('@@@') again.
  Instead, exit the box and continue outside:
  - exit_box()
  - insert_enter()
  - focus_placeholder('&&&')  (header.hwp, box.hwp, box_white.hwp)

üìå SAMPLE (TWO containers ‚Äî e.g. condition box + Î≥¥Í∏∞ box):
If the image has BOTH a bordered container (without <Î≥¥Í∏∞>) AND a <Î≥¥Í∏∞> container,
insert BOTH templates and use TWO separate focus_placeholder('###') calls:

insert_template('box.hwp')
insert_template('header.hwp')
focus_placeholder('@@@')
... problem statement (text above the first container) ...
insert_enter()
focus_placeholder('###')
set_align_justify_next_line()
... content inside the bordered container (condition text) ...
exit_box()
insert_enter()
... text between the two containers (e.g. question text) ...
insert_enter()
focus_placeholder('###')
set_align_justify_next_line()
... content inside the <Î≥¥Í∏∞> container ...
exit_box()
insert_enter()
focus_placeholder('&&&')
... choices ...
- CRITICAL: always call exit_box() after finishing content in the FIRST container
  before moving to the second focus_placeholder('###').
- The first focus_placeholder('###') fills the plain box (box.hwp).
- The second focus_placeholder('###') fills the <Î≥¥Í∏∞> box (header.hwp).

üì¶ BOX RULE (fallback only):
- If template/placeholder workflow is not applicable, then:
  - Use insert_view_box() only when "<Î≥¥Í∏∞>" is explicitly visible.
  - Otherwise use insert_box() ... exit_box().

‚úÖ Correct pattern:
insert_text('Î¨∏Ïû• ')
insert_equation('x=1')
insert_text(' Ïùº Îïå')

‚ö†Ô∏è For numbered choices, keep them on ONE line with spacing:
  - Type ‚ë†‚ë°‚ë¢‚ë£‚ë§ as plain text (insert_text), not equations.
  - Always insert one space after ‚ë†/‚ë°/‚ë¢/‚ë£/‚ë§ before the value or text.
  - Example:
    insert_text('‚ë† 6    ‚ë° 9    ‚ë¢ 12    ‚ë£ 15    ‚ë§ 18')

üî¥ FORMULA RULES (HwpEqn)

Use insert_equation() for ALL math.
Do not write formulas in insert_text().
For English letters/words, use insert_equation() so they render in HancomEQN.

‚Üî EQUIVALENCE ARROW RULE:
- If you see a double arrow / equivalence sign (‚Üî), write it as:
  LRARROW
- Do NOT use IFF.
- Example: insert_equation('P LRARROW Q')

üî¨ SCIENCE UNITS / QUANTITIES:
- In science problems, any physical quantity unit or symbol in formulas must use rm.
- Examples: 1550`rm nm, 52`rm kHz, 400 ~ 700`rm nm, 9.8`rm m/s^2
- If a tilde like "~" appears in a formula, write it as SIM:
  ‚úÖ 400 SIM 700

Powers: wrap superscripts with braces
  ‚úÖ {{t^2}}   ‚úÖ {{x^3}}

Fractions: use 'over'
  ‚úÖ {a over b}
- If a fraction numerator is a sum, wrap the entire numerator with braces:
  ‚úÖ {b _{2n-1} + b _{3n+1}} over {b _{n}}

Square root:
  ‚úÖ sqrt {x+1}
- For n-th roots, ALWAYS use the "of" form:
  ‚úÖ {root {4} of {32}}  ‚úÖ {root {8} of {4}}

Multiplication:
  ‚úÖ 3 times x

PLUS-MINUS:
  ‚úÖ '+-' renders ¬±

‚ûï PLUS SIGN:
- If you see + in a formula, it MUST appear inside the equation string.
  ‚úÖ insert_equation('p + 27')  (keep spaces around +)
  ‚ùå insert_equation('p') + insert_equation('27')  (this loses the +)
  ‚ùå insert_equation('p+27') if it renders incorrectly; prefer 'p + 27'

‚úÖ PLUS EXAMPLE (VECTOR / DOT / ABS):
- Use + inside ONE equation string, not concatenated equations:
  insert_equation("LEFT ( {vec{PA}} + {vec{PB}} RIGHT ) CDOT LEFT ( {vec{PQ}} + {vec{PB}} RIGHT ) = 2 vert `{vec{PQ}}``vert ^{2}")

üßÆ BRACKETS WITH SUBSCRIPTS:
- If you see bracketed expressions like {a_n} or (a_n), write with explicit left/right:
  LEFT { a _{n} RIGHT }
  LEFT ( a _{n} RIGHT )

üß© COMMA-SEPARATED VARIABLES:
- If you see "p, q", separate each variable into its own equation:
  insert_equation('p') + insert_text(', ') + insert_equation('q')
- Do NOT put "p,q" inside a single equation.

üìè LINE SEGMENT NOTATION:
- If you see line/segment notation like AB, use rm before bar:
  rm {bar{AB}}
- Example: insert_equation('rm {bar{AB}}')

üü† POINT/Triangle NOTATION:
- If you see "Ï†ê A" or "Ï†ê B", write as:
  rm A
- If you see "ÏÇºÍ∞ÅÌòï ABC", write as:
  rm ABC

üü£ GEOMETRY/VECTOR SPECIAL RULE:
- In geometry/vector problems ONLY, if an ellipse is named C, do NOT prefix C with rm.
- In geometry/vector problems ONLY, when writing focus F, use braces:
  {rm F} (do NOT write rm F without braces).
- In geometry problems, point letters (A, B, C, P, Q, R, etc.) must be written as:
  {rm A}, {rm B}, {rm C}, {rm P}, {rm Q}, {rm R}.

üîµ MATH SYMBOL EXCEPTION:
- In math problems, for radius R and area S in formulas, do NOT prefix with rm.
  Use plain R and S (e.g., S not {rm S}, R not {rm R}).

üìê ANGLE NOTATION:
- If you see angle notation like ANGLE HCG, prefix with rm:
  rm ANGLE HCG

¬∞ DEGREE SYMBOL:
- If you see a degree symbol (¬∞) in science/math, use DEG inside the equation.
- Do NOT use CIRC.
- Example: insert_equation('30 DEG')

üé≤ PROBABILITY SPECIAL RULE:
- In probability/statistics problems ONLY, when typing event A or B in formulas,
  do NOT prefix with rm (use plain A, B inside insert_equation).
- Outside probability/statistics, for A or B as symbols, ALWAYS use {rm A} or {rm B}.
- In probability/statistics problems, if multiple boxes are labeled A, B, C...,
  ALWAYS type them as {rm A}, {rm B}, {rm C}, etc.
- In probability/statistics problems ONLY, do NOT prefix X with rm (use plain X).
- For probability/statistics problems, if symbols P or V appear, ALWAYS wrap with braces:
  use {rm P} and {rm V} (do NOT write rmP or rmV without braces).
- If E or N appears, ALWAYS write as {rm E} or {rm N} (with braces).

| ABSOLUTE VALUE IN FORMULA:
- For any absolute value |X|, wrap both sides with vert and backticks:
  vert `X``vert
- Example: P(vert `Z``vert <= 2.58)=0.99

‚û°Ô∏è VECTOR NOTATION:
- If a vector is shown (arrow over a), write as:
  {vec{a}} = LEFT ( 4,`1 RIGHT )

‚úÖ VECTOR WITH CAPITAL POINTS:
- If a vector uses capital points (A,B,C,...), prefix the point name with rm inside vec:
  vert` {vec{rmPB}}``vert = 14

‚úÖ UNIT VECTOR BASIS (i, j, k) RULE:
- When unit vectors appear in component form, ALWAYS wrap each unit vector in braces
  and write it as roman bold:
  - `{rm bold i}`, `{rm bold j}`, `{rm bold k}`
- Do NOT write plain `i/j/k` and do NOT omit braces.
- Example style:
  `{rm boldF}(x,y,z)=y ^{2} z {rm bold i}+xz {rm bold j}-3x ^{2} y ^{3} {rm bold k}`
- Any expression containing vector/equation markers such as `rm`, `bold`, `vec`,
  `curl`, `div`, `dint`, `CDOT` MUST be typed with `insert_equation(...)`,
  never `insert_text(...)`.

üß≠ VECTOR CALCULUS / SURFACE INTEGRAL RULE:
- For double/surface integrals, use `dint` form (NOT `int ... int ...`).
- For triple/volume integrals, use `tint` form (NOT `int ... int ... int ...`).
- For curl/div operators, use roman operator text:
  - `rm curl`, `rm div`
- For vector field F, ALWAYS use:
  - `{rm boldF}`
- Do NOT use `rm {bold{F}}` and do NOT use `it F`.
- For unit normal vector n, use bold roman:
  - `rm {bold{n}}`
- For differentials, use italic differential notation:
  - `it dS`, `it dV`, `it dA` (as shown in the image)
- Keep dot product as `CDOT` and group integrand with `LEFT ( ... RIGHT )` when needed.
- Preferred style example:
  `dint _{S} ^{} {LEFT ( rm curl {rm boldF} RIGHT ) CDOT rm {bold{n}} it dS = pi}`
- Triple-integral style example:
  `tint _{V} ^{} {(x ^{2} +y ^{2} ) it dV}`
- Avoid style like:
  `int _{} ^{} {} int _{S} ^{} {} (curl rm F) CDOT rm ndS`

‚ö†Ô∏è CODE FORMAT:
- Do NOT break insert_equation/insert_text across multiple lines.
- Keep each function call on a single line.

‚Ä≤ PRIME NOTATION:
- If a prime is shown in a formula (e.g., f‚Ä≤, x‚Ä≤), use a single quote (') not backslash:
  f' , x'
- For focus points like F‚Ä≤, write as: rm F prime

üìä TABLE RULE:
- If the image contains a table, use insert_table(rows, cols, cell_data).
- cell_data must be a list of rows, each row is a list of strings (one value per cell).
- DO NOT put all values in a single cell or single list.
- If a table cell contains math, prefix it with "EQ:" so it renders as equation.
- For probability tables, pass align_center=True to center all cell contents.
- After insert_table(...), LitePro will exit the table automatically (cursor moves outside).
- Do NOT insert an extra blank line after the table; continue on the next line only if the image shows one.
- Before inserting a table, set table font to HyhwpEQ and size 8.0pt so all table text uses that style.
- Example:
  insert_table(3, 2, cell_data=[
      ['z', 'EQ:P(0<=Z<=z)'],
      ['0.5', '0.191'],
      ['1.0', '0.341'],
  ])

üî§ SPLIT CONCATENATED EXPRESSIONS:
- If an expression looks like "axÏßÅÏÑ†OB" (no spacing), split into separate equations:
  insert_equation('a') + insert_equation('x') + insert_equation('rm {bar{OB}}')
- Do NOT insert spaces between these equations.

üß© BOXED TEXT INSIDE FORMULA:
- If a small box surrounds text inside a formula, wrap it as:
  {BOX{````(Í∞Ä)````}}
- Example: insert_equation('{BOX{````(Í∞Ä)````}}')

‚ãØ DOTS (ELLIPSIS) IN FORMULA:
- If you see "......" between terms, use CDOTS in formula:
  insert_equation('CDOTS')
- Keep spacing around dots as in the image by inserting spaces with insert_space() before/after.
- If there are two separate dot groups, use CDOTSCDOTS.

‚ìê CIRCLED KOREAN CHOICES:
- If you see „Ñ±/„Ñ¥/„Ñ∑/„Ñπ in a circle, convert to:
  „â† „â° „â¢ „â£ „â§
- Example: insert_equation('„â†') or insert_text('„â†')

Read the image carefully and extract EVERYTHING.

üßæ VERTICAL SPACE RULE:
- Do NOT use insert_small_paragraph() (4pt spacer lines are disabled in LitePro).
